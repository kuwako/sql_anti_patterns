# クエリのアンチパターン
## 13章: フィア・オブ・ジ・アンノウン(恐怖のunknown)
### 目的: 欠けている値を区別する
### アンチパターン: NULLを一般値として使う、または一般値をNULLとして使う
- 式でNULLを扱う
- NULLを許容する列の検索
- プリペアドステートメントでNULLを扱う
- NULLの使用を避ける

### アンチパターンを用いても良い場合
外部データの読み込みや書き出しをする場合

### 解決策: NULLを一意な値として使う
- スカラー式でのNULL
- 論理式でのNULL
- NULLの検索
- 列にNOT NULL制約を宣言する
- 動的なデフォルト

## 14章: アンビギュアスグループ(曖昧なグループ)
### 目的: グループ内で最大値を持つ行を取得する
### アンチパターン: 非グループ化列を参照する
- 単一値の原則(Single-Valued Rule)
- SQLがクエリの意図を汲んでくれるとは限らない

### アンチパターンを用いても良い場合
MySQLやSQLiteを使用していて、関数従属性を持つ列のみにクエリを実行するようプログラマ自身が注意していれば、曖昧さの問題を避けつつ、この種のクエリをグループ化を使用できる

### 解決策: 曖昧でない列を使用する
- 関数従属性のある列のみにクエリを実行する
- 相関サブクエリを使用する
- 導出テーブルを使用する
- JOINを使用する
- 他の列に対しても集約関数を使用する
- グループごとに全ての値を連結する

## 15章: ランダムセレクション
### 目的: サンプル行をフェッチする
- ニュースのハイライトや広告のような、コンテンツのローテンション表示
- 一部のデータの監査
- コールセンターにかかってきた電話のオペレーターへの割り当て
- テストデータの生成

### アンチパターン: データをランダムにソートする
RAND関数やRANDOME関数を使用して、最初の行を取得するのがわかりやすいやり方だが、indexが使用できないデメリットがある  

### アンチパターンを用いても良い場合
- データセットが小さい場合

### 解決策: 特定の順番に依存しない:
